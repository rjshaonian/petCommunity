<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>活动列表</title>
</head>
<body>

	<h1>创建活动</h1>
<div class="box box-info">
      <div class="box-header with-border">
      </div>
      <!-- /.box-header -->
      <!-- form start -->
      <form class="form-horizontal">
        <div class="box-body">
          <div class="form-group">
            <label for="nameId" >功能测试id</label>
              <input type="text"  name="id" id="Id" placeholder="id">
          </div>
          <div class="form-group">
            <label for="nameId" >活动名称</label>
              <input type="text"  name="actiName" id="nameId" placeholder="名称">
          </div>
          <div class="form-group">
            <label for="nameId" >活动地点</label>
              <input type="text"  name="position" id="positionId" placeholder="地点">
          </div>
          <div class="form-group">
            <label for="nameId" >宠物类型</label>
              <input type="text"  name="actiType" id="actiTypeId" placeholder="哺乳类·鸟类·两栖类·鱼类">
          </div>
          <div class="form-group">
            <label for="nameId" >开始时间</label>
              <input type="text"  name="startTime" id="startTimeId" placeholder="开始时间">
          </div>
          <div class="form-group">
            <label for="nameId" >结束时间</label>
              <input type="text"  name="endTime" id="endTimeId" placeholder="结束时间">
          </div>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
          <button type="button" class="btn btn-default btn-cancel">取消</button>
          <button type="button" class="btn btn-info pull-right btn-save">保存</button>
        </div>
        <!-- /.box-footer -->
      </form>
    </div>	
<!-- <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"> -->

<script type="text/javascript">

$(document).ready(function(){
	$(".box-footer")
	  .on("click",".btn-cancel",doCancel)
	  .on("click",".btn-save",saveOrUpdate)
 var time = new Date();
       /* var day = ("0" + time.getDate()).slice(-2);
        var month = ("0" + (time.getMonth() + 1)).slice(-2);
        var today = time.getFullYear() + "-" + (month) + "-" + (day);*/
        $('#startTimeId').val(time);
        $('#endTimeId').val(time);

});


function saveOrUpdate(){
	  //1.获取表单数据
	   
	  
	  var params={
			  
			id:$("#Id").val(),
			actiName:$("#nameId").val(),
			position:$("#positionId").val(),
			/* valid:1, */
			actiType:$("#actiTypeId").val(),
			startTime:$("#startTimeId").val(),
			endTime:$("#endTimeId").val(),
			createTime:new Date(),
			/* midifiedTime:null, 
			createUser:null,
			modifiedUser:null*/
    	}
  alert(params);
	  console.log(params);
	  //2.异步提交表单数据
	  debugger
	  var insertUrl="activity/save";
	  $.post(insertUrl,params,function(result){
		  if(result.state==1){
			  alert(result.message);
			  doCancel();
		  }else{
			  alert(result.message);
		  }
	  });
}


</script>
</body>
</html>